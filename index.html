<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>منظومة الإفراج الجمركي الاحترافية</title>
    <style>
        :root {
            --primary: #2563eb;
            --secondary: #64748b;
            --bg-gradient: linear-gradient(135deg, #e0eafc 0%, #cfdef3 100%);
        }

        body {
            background: var(--bg-gradient);
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0;
            padding: 20px;
        }

        .container {
            background: linear-gradient(#79e1e9, #63b5b3);
            width: 100%;
            max-width: 1000px;
            padding: 30px 40px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        /* --- تنسيق اللوجو اللامع --- */
        .header-logo {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .logo-wrapper {
            position: relative;
            overflow: hidden; /* ضروري لقص اللمعان خارج حدود اللوجو */
            border-radius: 10px;
            display: inline-block;
        }

        .logo-wrapper img {
            max-height: 90px;
            display: block;
            filter: drop-shadow(0px 4px 6px rgba(0,0,0,0.1));
        }

        /* طبقة اللمعان المتحركة */
        .logo-wrapper::before {
            content: "";
            position: absolute;
            top: 0;
            left: -150%;
            width: 50%;
            height: 100%;
            background: linear-gradient(
                to right,
                rgba(255, 255, 255, 0) 0%,
                rgba(255, 255, 255, 0.6) 50%,
                rgba(255, 255, 255, 0) 100%
            );
            transform: skewX(-25deg);
            transition: 0s;
        }

        /* تشغيل الأنيميشن */
        .logo-wrapper:hover::before, .logo-wrapper::before {
            animation: shine 3s infinite;
        }

        @keyframes shine {
            0% { left: -150%; }
            20% { left: 150%; }
            100% { left: 150%; }
        }
        /* --- نهاية تنسيق اللوجو --- */

        h2 {
            text-align: center;
            color: #1e293b;
            margin-bottom: 30px;
            font-size: 24px;
            border-bottom: 2px solid var(--primary);
            display: inline-block;
            width: 100%;
            padding-bottom: 10px;
        }

        .row { display: flex; flex-wrap: wrap; gap: 20px; margin-bottom: 20px; }
        .form-group { flex: 1; min-width: 200px; display: flex; flex-direction: column; }
        label { font-size: 17px; font-weight: 600; color: #475569; margin-bottom: 8px; }
        label::after { content: " *"; color: red; }

        input, select {
            padding: 12px; border: 1px solid #cbd5e1; border-radius: 8px;
            font-size: 18px; transition: all 0.3s ease; font-family: inherit;
        }

        input:focus, select:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
            outline: none;
        }

        .plate-container { display: flex; gap: 5px; direction: ltr; }
        .plate-char { width: 40px; text-align: center; }
        .plate-num { width: 100px; text-align: center; }

        .btn { padding: 12px 20px; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; transition: 0.2s; font-family: inherit; }
        .btn-check { background: var(--primary); color: white; margin-top: 25px; }
        .btn-add { background: #10b981; color: white; }
        .btn-delete { background: #ef4444; color: white; }

        #listBox {
            width: 100%; height: 180px; margin: 20px 0; border: 2px solid #e2e8f0;
            border-radius: 12px; padding: 10px; font-size: 18px; background: white; outline: none;
        }

        #listBox option { padding: 8px; border-bottom: 1px dotted #e2e8f0; }

        .footer-btns { display: flex; gap: 15px; border-top: 1px solid #e2e8f0; padding-top: 25px; }
        .btn-submit { background: #18be1b; color: white; flex: 2; }
        .btn-reset { background: #ef4444; color: white; flex: 1; }
    </style>
</head>
<body>

<div class="container">
    <div class="header-logo">
        <div class="logo-wrapper">
            <img src="https://limewire.com/d/G2ZC5#m1axIQzP0E">
        </div>
    </div>

    <h2>نموذج بيانات الإفراج الجمركي</h2>
    
    <div class="row">
        <div class="form-group">
            <label>رقم الإفراج</label>
            <input type="number" id="releaseNum" placeholder="أدخل رقم الإفراج" required>
        </div>
        <div class="form-group">
            <label>سنة الإفراج</label>
            <input type="number" id="releaseYear" placeholder="2026" required>
        </div>
        <div class="form-group">
            <label>نوع الإفراج</label>
            <select id="releaseType" required>
                <option value="" disabled selected>اختر النوع</option>
                <option>نهائي</option>
                <option>سماح مؤقت</option>
                <option>دروباك</option>
                <option>إعادة تصدير</option>
                <option>صادر اجنبي</option>
                <option>تصدير مؤقت</option>
                <option>رد فوري</option>
                <option>مرحله اولي</option>
            </select>
        </div>
        <div class="form-group">
            <label>جمرك الإرسال</label>
            <select id="customsOffice" required>
                <option value="" disabled selected>اختر الجمرك</option>
                <option>اسكندرية</option>
                <option>6 أكتوبر</option>
                <option>العاشر من رمضان</option>
                <option>مناطق حره عامه</option>
                <option>بورسعيد</option>
                <option>شرق بورسعيد</option>
                <option>اسماعيلية</option>
                <option>مناطق حره خاصة</option>
            </select>
        </div>
        <button class="btn btn-check" onclick="checkData()">فحص البيانات</button>
    </div>

    <div class="row">
        <div class="form-group">
            <label>التوكيل</label>
            <select id="agency" required>
                <option value="" disabled selected>اختر التوكيل</option>
                <option>MAE</option><option>MSC</option><option>CMA</option>
                <option>YML</option><option>COS</option><option>HML</option>
                <option>HLC</option><option>SUD</option>
            </select>
        </div>
        <div class="form-group">
            <label>الواجهة النهائية</label>
            <input type="text" id="destination" placeholder="جهة الوصول" required>
        </div>
        <div class="form-group">
            <label>اسم العميل</label>
            <select id="clientName" required>
                <option value="" disabled selected>اختر العميل</option>
                <option>مصر للصباغة والتجهيز</option>
                <option>المصرية للصناعة</option>
                <option>العالمية للتجارة</option>
                <option>مصنع البركة</option>
                <option>مصنع الامل للصناعة المنزلية</option>
                <option>مطاحن وادي النيل</option>
                <option>المصرية للتجارة</option>
                <option>العالمية للصناعة</option>
            </select>
        </div>
    </div>

    <div class="row">
        <div class="form-group">
            <label>نوع المشمول</label>
            <input type="text" id="cargoType" placeholder="وصف البضاعة" required>
        </div>
        <div class="form-group">
            <label>الكمية الإجمالية</label>
            <div style="display: flex; gap: 5px;">
                <input type="number" id="totalQty" placeholder="العدد" style="flex:1" required>
                <select id="qtyUnit" style="flex:1" required>
                    <option value="" disabled selected>الوحدة</option>
                    <option>بالتة</option><option>طرد</option><option>دستة</option>
                    <option>برميل</option><option>تانك</option><option>صندوق</option>
                    <option>عدد</option><option>سيارة</option>
                </select>
            </div>
        </div>
    </div>

    <div class="row" style="background: #f8fafc; padding: 20px; border-radius: 12px; border: 1px solid #e2e8f0;">
        <div class="form-group">
            <label>رقم الحاوية (11 حرف)</label>
            <input type="text" id="containerNum" maxlength="11" placeholder="MSCU1234567">
        </div>
        <div class="form-group">
            <label>رقم السيارة (كامل)</label>
            <div class="plate-container">
                <input type="text" maxlength="1" class="plate-char" id="c3" placeholder="ج">
                <input type="text" maxlength="1" class="plate-char" id="c2" placeholder="ب">
                <input type="text" maxlength="1" class="plate-char" id="c1" placeholder="أ">
                <input type="text" maxlength="4" class="plate-num" id="pNum" placeholder="1234">
            </div>
        </div>
        <div style="display:flex; align-items:flex-end; gap:10px;">
            <button class="btn btn-add" onclick="addItem()">إضافة</button>
            <button class="btn btn-delete" onclick="removeItem()">حذف</button>
        </div>
    </div>

    <select id="listBox" size="5"></select>

    <div class="footer-btns">
        <button class="btn btn-submit" onclick="submitFinal()">اعتماد الشهادة</button>
        <button class="btn btn-reset" onclick="resetForm()">مسح بيانات الشهادة</button>
    </div>
</div>

<script>
    function isFormValid() {
        const fields = ['releaseNum', 'releaseYear', 'releaseType', 'customsOffice', 'agency', 'destination', 'clientName', 'cargoType', 'totalQty', 'qtyUnit'];
        for (let id of fields) {
            const el = document.getElementById(id);
            if (!el.value || el.value === "") {
                alert("برجاء إكمال كافة الحقول الإجبارية أولاً!");
                el.focus();
                return false;
            }
        }
        return true;
    }

    function checkData() {
        const rNum = document.getElementById('releaseNum').value;
        const rYear = document.getElementById('releaseYear').value;
        const rType = document.getElementById('releaseType').value;
        const rCustoms = document.getElementById('customsOffice').value;

        if (rNum === "1234" && rYear === "2026") {
            document.getElementById('agency').value = "MAE";
            document.getElementById('destination').value = "جنوب افريقيا";
            document.getElementById('clientName').value = "مصر للصباغة والتجهيز";
            document.getElementById('cargoType').value = "تفاح";
            document.getElementById('totalQty').value = "65";
            document.getElementById('qtyUnit').value = "بالتة";
        } else {
            alert("لم يتم العثور على بيانات");
        }
    }

    function addItem() {
        if (!isFormValid()) return;
        const cont = document.getElementById('containerNum').value.toUpperCase();
        const p1 = document.getElementById('c1').value;
        const p2 = document.getElementById('c2').value;
        const p3 = document.getElementById('c3').value;
        const pN = document.getElementById('pNum').value;
        
        if (cont.length === 0 && pN.length === 0) {
            alert("برجاء إدخال بيانات الحاوية أو السيارة");
            return;
        }

        const listBox = document.getElementById('listBox');
        const nextNumber = listBox.options.length + 1;
        const formattedEntry = `${nextNumber}) حاوية: ${cont || '-----------'}   ||   سيارة: [ ${pN || '----'} | ${p1 || '-'} ${p2 || '-'} ${p3 || '-'} ]`;
        
        const option = document.createElement("option");
        option.text = formattedEntry;
        listBox.add(option);
        
        document.getElementById('containerNum').value = "";
        document.getElementById('c1').value = ""; document.getElementById('c2').value = "";
        document.getElementById('c3').value = ""; document.getElementById('pNum').value = "";
    }

    function removeItem() {
        const listBox = document.getElementById('listBox');
        if (listBox.selectedIndex >= 0) {
            listBox.remove(listBox.selectedIndex);
            for (let i = 0; i < listBox.options.length; i++) {
                let text = listBox.options[i].text;
                let contentWithoutNumber = text.substring(text.indexOf(')')); 
                listBox.options[i].text = (i + 1) + contentWithoutNumber;
            }
        }
    }

    function submitFinal() {
        if (!isFormValid()) return;
        if (document.getElementById('listBox').options.length === 0) {
            alert("أضف حاوية واحدة على الأقل");
            return;
        }
        alert('تم الاعتماد بنجاح');
    }

    function resetForm() {
        if(confirm("مسح كافة البيانات؟")) location.reload();
    }
</script>

</body>
</html>
